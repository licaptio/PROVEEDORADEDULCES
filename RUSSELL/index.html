<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>PROVSOFT Monitor</title>

<style>
:root{
  --vh: 100vh;
}

body{
  margin:0;
  background:#000;
  overflow:hidden;
  font-family:Arial, sans-serif;
  touch-action: manipulation;
}

#container{
  display:flex;
  height:var(--vh);
  transition: transform 0.6s ease;
}

iframe{
  min-width:100vw;
  height:var(--vh);
  border:none;
  background:#fff;
}

.controls{
  position:fixed;
  bottom:15px;
  right:15px;
  z-index:1000;
  display:flex;
  gap:10px;
}

button{
  padding:12px 18px;
  font-size:22px;
  border-radius:8px;
  border:none;
  background:#0c6cbd;
  color:#fff;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="container">
  <iframe src="VCigarro.html"></iframe>
  <iframe src="VDulce.html"></iframe>
  <iframe src="VLiquidos.html"></iframe>
  <iframe src="VZapata.html"></iframe>
  <iframe src="kardex.html"></iframe>
  <iframe src="VRutaVTAMOB.html"></iframe>
</div>

<div class="controls">
  <button onclick="prev()">⬅</button>
  <button onclick="next()">➡</button>
</div>

<script>
const container = document.getElementById("container");
const total = container.children.length; // automático
let index = 0;
let autoRotate;

/* Fix real para Android vh */
function setVH(){
  document.documentElement.style.setProperty('--vh', window.innerHeight + 'px');
}
window.addEventListener('resize', setVH);
setVH();

function update(){
  container.style.transform = `translateX(-${index * 100}vw)`;
}

function next(){
  index = (index + 1) % total;
  update();
  resetTimer();
}

function prev(){
  index = (index - 1 + total) % total;
  update();
  resetTimer();
}

function startAutoRotate(){
  autoRotate = setInterval(() => {
    index = (index + 1) % total;
    update();
  }, 120000);
}

function resetTimer(){
  clearInterval(autoRotate);
  startAutoRotate();
}

/* Swipe táctil para tablet */
let startX = 0;

document.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});

document.addEventListener("touchend", e => {
  let endX = e.changedTouches[0].clientX;
  if(endX - startX > 50) prev();
  if(startX - endX > 50) next();
});

startAutoRotate();
update();
</script>

</body>
</html>
